<!DOCTYPE html>

<head>
    <link rel="preconnect" href="https://fonts.gstatic.com">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">

    <title>ToDo List</title>

    <style>
        li {
            list-style: none;
        }
        li:hover {
            cursor: pointer;
        }
        .done {
            text-decoration: line-through;
        }
    </style>
</head>

<body class="bg-dark p-5">
    <div class="container">
        <div class="col-md-6 p-4 bg-white mx-auto rounded">
            <p class="h3 mb-4">ToDo List</p>

            <form action="/nowhere">
                <div class="form-group d-flex justify-content-between">
                    <input type="text" class="form-control" id="product" name="product" placeholder="Enter task name" autofocus />
                    <button class="btn btn-primary ml-2" disabled id="btn-submit">+</button>
                  </div>
            </form>

            <ul id="list" class="p-0"></ul>
            
            <button id="reload" class="btn btn-danger" onclick="location.reload()">Clear all</button>
        </div>

    </div>


    <!-- ------------------------------------------------------------- -->
    <!-- ------------------------------------------------------------- -->


    <script>
        let form = document.querySelector('form');
        let product = document.getElementById("product");
        let buttonSubmit = document.getElementById("btn-submit")


        product.addEventListener('keyup', (event) => {
        let value = event.target.value;
        value !== '' ?  buttonSubmit.disabled = false :  buttonSubmit.disabled = true
        });

        form.addEventListener("submit", (event) => {
            let li = document.createElement("li");
            let btnDelete = document.createElement("button");
            let span = document.createElement("span");

            li.classList.add("d-flex");
            li.classList.add("justify-content-between");
            li.classList.add("align-items-center");
            li.classList.add("p-2");
            li.classList.add("mb-2");
            li.classList.add("bg-light");

            btnDelete.innerText = "x";
            btnDelete.classList.add("btn");
            btnDelete.classList.add("btn-danger");
            btnDelete.classList.add("m-0");

            li.append(product.value, btnDelete);
            li.addEventListener('click', () => {
                li.classList.toggle('done');
            });
            span.append(li);
            let ul = document.querySelector("#list");
            ul.append(span);

            btnDelete.addEventListener("click", () => {
                span.remove();
            })

            product.value = "";
            buttonSubmit.disabled = true;
            event.preventDefault();
        });
    </script>
</body>

</html>